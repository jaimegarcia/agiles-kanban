<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>BDD: conectando user stories con pruebas automáticas</title><link rel="stylesheet" type="text/css" href="bower_components/prism/themes/prism-tomorrow.css"><link rel="stylesheet" type="text/css" href="styles/main.css"></head><body><article><section class="blue"><h1>Taller Kanban</h1><h2>Jaime García y Carlos Gil</h2></section><section class="gray"><div><img src="img/analytic-board-logo.png"><h1>Jaime Andrés García</h1><h2>CEO Ingenio Sólido - Analytic Board</h2></div><div class="bt-right"><img src="img/ingenio-solido-logo.png"></div></section><section class="white"><h1>Pero primero una historia ....</h1></section><section class="dashboard"><div class="tint"><h1>Proyecto</h1><h2>Hardware + Web + Java + Data Visualization</h2></div></section><section class="white"><h2>Situación</h2><h3>Deadline 1 mes</h3><h3>Alta complejidad</h3><h3>Recursos disponibles 3</h3><h3>Recursos necesarios 7</h3><h3>Perfil de los recursos faltantes: 4 Expertos en Java con más de 3 años de experiencia</h3></section><section class="green"><h1>Ante esta situación, hay varias opciones ...</h1></section><section class="panic"><div class="tint"><h1>1.Entrar en pánico</h1></div></section><section class="green"><h1>2.Contratar 4 expertos en Java en Colombia</h1></section><section class="red"><ul><li><h1>Realidad</h1></li><li><h2>Es difícil encontrar 4 expertos colombianos en Java, disponibles para trabajar durante un mes</h2></li></ul></section><section class="blue"><ul><li><h1>Solución</h1></li><li><h2>3.Contratación de freelancers expertos disponibles en el mundo</h2></li></ul></section><section class="white"><h2>Características de la contratación</h2><h3>Radicados en la India</h3><h3>Hablan inglés</h3><h3>Disponibilidad de 56 horas semanales</h3></section><section class="chaos"><div class="tint"><h1>Cómo evitar el caos?</h1></div></section><section class="white"><h2>Metodología</h2><h3>Scrum</h3><h3>Sprints de una semana</h3><h3>Explicar verbalmente historias de usuario</h3><h3>Historias de usuario con mayor detalle - Pasos, Escenarios y Criterios de Aceptación</h3><h3>Segmentación de las tareas para reducir complejidad</h3></section><section class="complex"><div class="tint"><h1>Sin embargo, el proceso es bastante complejo...</h1></div></section><section class="surprise"><div class="tint"><h1>Afortunadamente, uno de los desarrolladores tiene una buena idea</h1></div></section><section><h2>Ejemplo de implementación</h2><hr><code class="language-javascript"><pre>// Descripción User Story

// Paso 1

funcionPaso1(param1,param2,...);

// Comentario Resultado Esperado
print(resultadoPaso1);

// Paso 2

funcionPaso2(param1,param2,...);

// Comentario Resultado Esperado
print(resultadoPaso2);

// Paso 3 ...
</pre></code></section><section class="blue"><h1>Momento de Agregar Escenarios</h1></section><section><h2>Ejemplo de implementación</h2><hr><code class="language-javascript"><pre>// Descripción User Story

// Escenario 1

  // Paso 1
  funcionPaso1(param1,param2,...);
  print(resultadoPaso1);
  
  // Paso 2
  funcionPaso2(param1,param2,...);
  print(resultadoPaso2);
  
  // Paso 3 ..
  
//Comentario Resultado Esperado Escenario 1
print(resultadoEscenario1);

// Escenario 2
                .
                .
                .
                
// Escenario 3 ..
</pre></code></section><section class="blue"><h1>Agregando nuevas condiciones en cada paso</h1></section><section><h2>Ejemplo de implementación</h2><hr><code class="language-javascript"><pre>// Descripción User Story
// Escenario 1
  // Paso 1
  funcionPaso1(param1,param2,...);
  print(resultadoPaso1);
  // Paso 2
    //Paso 2a
    funcionPaso2a(param1,param2,...);
    print(resultadoPaso2a);
    //Paso 2b
    funcionPaso2b(param1,param2,...);
    print(resultadoPaso2b);
  // Paso 3 ..
//Comentario Resultado Esperado Escenario 1
print(resultadoEscenario1);
// Escenario 2
                .
                .
                .
// Escenario 3 ..
</pre></code></section><section class="wait"><div class="tint"><h1>Espera un minuto..</h1></div></section><section class="red"><h2>No tengo tiempo para verificar si cada que se agrega un paso o condición, se<span class="important"> rompe</span> alguna funcionalidad</h2></section><section class="green"><h1>Necesito automatizar el proceso...</h1></section><section class="green"><h1>Necesito<span class="important"> Pruebas Automáticas!!!</span></h1></section><section><h2>Ejemplo de implementación</h2><hr><code class="language-javascript"><pre>// Descripción User Story
// Escenario 1
  // Paso 1
  funcionPaso1(param1,param2,...);
  if(resultadoPaso1 != resultadoEsperadoPaso1)
    print(&quot;Falló Escenario1 Paso1&quot;);
  // Paso 2
    //Paso 2a
    funcionPaso2a(param1,param2,...);
    if(resultadoPaso2a != resultadoEsperadoPaso2a)
      print(&quot;Falló Escenario1 Paso2a&quot;);
    //Paso 2b
    if(resultadoPaso2b != resultadoEsperadoPaso2b)
      print(&quot;Falló Escenario1 Paso2b&quot;);
                .
                .
                .
// Escenario 2 ..
</pre></code></section><section class="happy"><div class="tint"><h1>Logramos cumplir con el objetivo. Celebración!!!!</h1></div></section><section class="invention"><div class="tint"><h1>Un momento.... Será que acabamos de inventar algo?</h1></div></section><section class="no"><div class="tint"><h1>No realmente</h1></div></section><!--Invención--><!-- Explicación BDD--><!-- Beneficios BDD--><section class="blue"><h1>Ya existe una metodología que sigue estos lineamientos...</h1></section><section class="blue"><h1>Se llama<span class="important"> Behaviour-Driven Development</span></h1></section><section class="white"><h2>Esta basada en Test-Driven Development</h2><img src="img/tdd-flow.gif"><h4>Fuente: http://diogoosorio.com/blog/entry/test-driven-development-tdd-using-phpunit</h4></section><section class="white"><h2>Behaviour-Driven Development</h2><img src="img/bdd-flow.png"><h4>Fuente: http://www.testingexcellence.com/automated-testing-help-behavior-driven-testing/</h4></section><section class="blue"><h1>Parte del principio de construir una prueba que guíe el desarrollo en base del<spna class="important"> comportamiento</spna> deseado</h1></section><section class="blue"><ul><li><h1>En las metodologías ágiles, ya tenemos la descripción del comportamiento deseado...</h1></li><li><h2 class="important">Las historias de usuarios</h2></li></ul></section><section class="green"><ul><li><h1>Además, tenemos los criterios de aceptación de estas historias...</h1></li><li><h2 class="important">Los escenarios</h2></li></ul></section><section><h2>Estructura de la historia de usuario</h2><code class="language-markup"><pre>Title (one line describing the story)

Narrative:
As a [role]
I want [feature]
So that [benefit]

Acceptance Criteria: (presented as Scenarios)

Scenario 1: Title
Given [context]
And [some more context]...
When  [event]
Then  [outcome]
And [another outcome]...

Scenario 2: ...</pre></code><h4>Fuente: http://dannorth.net/whats-in-a-story/</h4></section><section><h2>Ejemplo de historia de usuario</h2><code class="language-markup"><pre>Story: Account Holder withdraws cash
As an Account Holder
I want to withdraw cash from an ATM
So that I can get money when the bank is closed

Scenario 1: Account has sufficient funds
Given the account balance is \$100
  And the card is valid
  And the machine contains enough money
When the Account Holder requests \$20
Then the ATM should dispense \$20
  And the account balance should be \$80
  And the card should be returned
  
Scenario 2: Account has insufficient funds
Given the account balance is \$10
  And the card is valid
  And the machine contains enough money
When the Account Holder requests \$20
Then the ATM should not dispense any money
  And the ATM should say there are insufficient funds
  And the account balance should be \$20
  And the card should be returned</pre></code><h4>Fuente: http://dannorth.net/whats-in-a-story/</h4></section><section><h2>Ejemplo de BDD - Parte 1</h2><code class="language-javascript"><pre>// Story: Account Holder withdraws cash
// As an Account Holder
// I want to withdraw cash from an ATM
// So that I can get money when the bank is closed

// Scenario 1: Account has sufficient funds

  // Given the account balance is \$100
  setAccountBalance(card,100);
  
  // And the card is valid
  setCardValidState(card,true);
  
  // And the machine contains enough money
  setMachineMoney(machine,1000000);
  
  </pre></code></section><section><h2>Ejemplo de BDD - Parte 2</h2><code class="language-javascript"><pre>// When the Account Holder requests \$20
accountRequest = 20;

// Then the ATM should dispense \$20
atmValue = getMoneyFromATM(accountRequest,card,machine);
if(atmValue==20) print(&quot;OK&quot;);
else print(&quot;Fail&quot;);

// And the account balance should be \$80
accountBalance = getCurrentBalance(card);
if(accountBalance==80) print(&quot;OK&quot;);
else print(&quot;Fail&quot;);

// And the card should be returned
if(isCardReturned(card) == true) print(&quot;OK&quot;);
else print(&quot;Fail&quot;);
</pre></code></section><section class="blue"><h1>Y qué me dices de la puesta en producción del sistema?</h1></section><section class="surprise"><div class="tint"><h1>También se puede hacer automática</h1></div></section><section class="white"><h1>Integración Continua</h1><img src="img/continuos-integration.png"></section><section class="blue"><h1>¿Eso quiere decir que se debe integrar todo cada que se hace un cambio en el código?</h1></section><section class="nailed"><div class="tint"><h1>Así es</h1></div></section><section class="white"><h1>Beneficios del uso de BDD y Continuos Integration</h1><h3>Comunicación entre los clientes y el personal técnico</h3><h3>Análisis de posibles soluciones - diseño ágil</h3><h3>Se reduce la afectación de código de otros desarrolladores</h3><h3>Aumento de calidad del producto</h3><h3>Validación directa de la historia del usuario</h3><h3>Facilidad para cambiar o actualizar módulos del sistema</h3><h3>Implementación e Integración Continua</h3><h3>Documentación Automática!!!</h3></section><section class="red"><h1>Entonces que nos hace falta ...</h1></section><section class="paradigm"><div class="tint"><h1>Cambiar el paradigma</h1></div></section><section class="thankyou"><div class="tint"><h1>Muchas gracias por su atención</h1></div></section></article><script src="bower_components/bespoke.js/dist/bespoke.min.js"></script><script src="bower_components/bespoke-bullets/dist/bespoke-bullets.min.js"></script><script src="bower_components/bespoke-scale/dist/bespoke-scale.min.js"></script><script src="bower_components/bespoke-hash/dist/bespoke-hash.min.js"></script><script src="bower_components/bespoke-progress/dist/bespoke-progress.min.js"></script><script src="bower_components/bespoke-state/dist/bespoke-state.min.js"></script><script src="bower_components/prism/prism.js"></script><script src="scripts/main.js"></script></body></html>